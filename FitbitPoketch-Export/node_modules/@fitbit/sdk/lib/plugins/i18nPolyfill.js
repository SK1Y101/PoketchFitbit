"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const companionTranslations_1 = tslib_1.__importDefault(require("./companionTranslations"));
const gettextFactory_const_1 = tslib_1.__importDefault(require("./gettextFactory.const"));
const geti18nModuleString = (defaultLanguage) => `
  import languageTable from '\0lang:table';
  import gettextFactory from '\0lang:gettext-factory';
  import { locale } from 'user-settings';
  const gettext = gettextFactory(languageTable, locale.language, ${JSON.stringify(defaultLanguage)});
  export { gettext };
`;
function i18nPolyfill(translationsGlob, defaultLanguage) {
    return {
        '\0lang:table': companionTranslations_1.default(translationsGlob, defaultLanguage),
        '\0lang:gettext-factory': gettextFactory_const_1.default,
        i18n: geti18nModuleString(defaultLanguage),
    };
}
exports.default = i18nPolyfill;
