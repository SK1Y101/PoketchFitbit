"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function polyfill(modules) {
    return {
        name: 'polyfill',
        resolveId(importee, importer) {
            if (importer === '\0' + importee)
                return false;
            if (modules[importee])
                return '\0' + importee;
        },
        load(id) {
            if (id[0] !== '\0')
                return null;
            const code = modules[id.slice(1)];
            if (code === undefined)
                return null;
            return typeof code === 'function' ? code() : code;
        },
    };
}
exports.default = polyfill;
