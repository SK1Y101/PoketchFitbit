"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const magic_string_1 = tslib_1.__importDefault(require("magic-string"));
function workaroundChunkScope() {
    return {
        name: 'workaroundChunkScope',
        renderChunk(code, chunk) {
            if (chunk.isEntry)
                return null;
            const magic = new magic_string_1.default(code);
            magic.prepend('(function(){');
            magic.append('})()');
            return {
                code: magic.toString(),
                map: magic.generateMap({
                    hires: true,
                }),
            };
        },
    };
}
exports.default = workaroundChunkScope;
